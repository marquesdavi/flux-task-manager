<!-- src/app/shared/components/navbar.component/navbar.component.html -->

<nav class="bg-[#111a22] border-b border-[#243747]">
  <div class="mx-auto flex flex-wrap items-center justify-between px-6 py-3">
    <!-- Logo clicável para /board -->
    <a (click)="goToBoards()" class="cursor-pointer">
      <app-logo name="Flux"></app-logo>
    </a>

    <!-- Ícone “hamburger” só aparece em telas pequenas -->
    <button
      type="button"
      class="md:hidden p-2 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white"
      [attr.aria-expanded]="menuOpen"
      (click)="toggleMenu()"
    >
      <span class="sr-only">Abrir menu</span>
      <app-material-symbol size="24px">menu</app-material-symbol>
    </button>

    <!-- Botões visíveis em desktop ou no menu mobile -->
    <div
      *ngIf="menuOpen || isDesktop"
      class="flex flex-col md:flex-row md:items-center md:space-x-4 space-y-3 md:space-y-0 mt-3 md:mt-0 w-full md:w-auto"
    >
      <!-- Link para “Boards” -->
      <button
        (click)="goToBoards()"
        class="text-white hover:text-[#1989e5] font-medium px-2 py-1"
      >
        Boards
      </button>

      <!-- Avatar + dropdown de usuário -->
      <div class="relative">
        <button
          type="button"
          class="flex text-sm bg-gray-800 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600"
          [attr.aria-expanded]="userMenuOpen"
          (click)="toggleUserMenu()"
        >
          <span class="sr-only">Abrir menu de usuário</span>
          <img
            class="w-8 h-8 rounded-full object-cover"
            [src]="userImage"
            alt="Avatar do usuário"
          />
        </button>

        <!-- dropdown só aparece se userMenuOpen for true -->
        <div
          *ngIf="userMenuOpen"
          class="absolute right-0 mt-2 w-48 bg-white divide-y divide-gray-100 rounded-lg shadow-lg
                 dark:bg-gray-700 dark:divide-gray-600 z-50"
        >
          <div class="px-4 py-3">
            <span class="block text-sm text-gray-900 dark:text-white">
              Nome do Usuário
            </span>
            <span class="block text-sm text-gray-500 truncate dark:text-gray-400">
              email&#64;exemplo.com
            </span>
          </div>
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200">
            <li>
              <button
                class="block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                (click)="goToSettings()"
              >
                Settings
              </button>
            </li>
            <li>
              <button
                class="block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                (click)="signOut()"
              >
                Sign out
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>
